(this["webpackJsonpsoundbirds-client"]=this["webpackJsonpsoundbirds-client"]||[]).push([[0],{112:function(e,t){},123:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),l=n(62),i=n.n(l),o=(n(70),n(20)),r=n(14),d=n(6),j=n(7),b=n(9),h=n(8),u="https://soundbirds.herokuapp.com/api",m=n(5),x=n.n(m),p=n(3),O=(n(48),n(35)),f=n.n(O),g=n(2);var y=function(e){return Object(c.jsx)("div",{className:"nav",children:Object(c.jsxs)("div",{className:"nav-container",children:[Object(c.jsx)(g.b,{to:"/",children:Object(c.jsx)("img",{style:{height:"45px"},src:"/images/logo.svg"})}),Object(c.jsx)("div",{className:"nav-btn-container",children:e.loggedInUser?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g.b,{to:"/mailbox",children:Object(c.jsx)("button",{className:"btn-outline",children:" \u2709 Mailbox"})}),Object(c.jsx)("button",{onClick:e.onLogout,className:"btn-outline",children:"Logout"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g.b,{to:"/signin",children:Object(c.jsx)("button",{className:"btn-outline",children:"Sign In"})}),Object(c.jsx)(g.b,{to:"/signup",children:Object(c.jsx)("button",{className:"btn-outline",children:"Sign Up"})})]})})]})})};var v=function(e){return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("h1",{children:["Hello SoundBirds,",Object(c.jsx)("br",{})," let\u2019s stick together!"]}),Object(c.jsx)("p",{children:"Soundbirds is a digital platform that connects people around the world according to their taste of music."}),Object(c.jsx)("p",{children:"Why? Because meeting someone with the same taste of music is seriously the best thing ever."}),e.loggedInUser?Object(c.jsx)(g.b,{className:"btn-filled",to:"/dashboard",style:{textDecoration:"none"},children:" To the Dashboard"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(g.b,{to:"/signup",children:Object(c.jsx)("button",{className:"btn-filled",children:"Let's get Started"})})})]})};var S=function(e){return Object(c.jsxs)("form",{onSubmit:e.onSignUp,children:[Object(c.jsx)("h2",{children:"Sign Up!"}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"name",type:"text",placeholder:"Name","aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"email",type:"text",placeholder:"Email address","aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"password",type:"password",placeholder:"Password","aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)("button",{type:"submit",className:"btn-filled",children:"Submit"})})]})};var w=function(e){return e.loggedInUser,Object(c.jsxs)("form",{onSubmit:e.onSignIn,children:[Object(c.jsx)("h2",{children:"Welcome back. Sign in! "}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"email",type:"text",placeholder:"Email address","aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"password",type:"password",placeholder:"Password","aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)("button",{type:"submit",className:"btn-filled",children:"Submit"})})]})},N=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.loggedInUser;return e?Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h2",{children:["Welcome to your dashboard, ",e.name,"!"]}),Object(c.jsx)("p",{children:"More songs - more possibility to find a perfect match."}),Object(c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"row"},children:[Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)(g.b,{to:"/myplaylist",className:"btn-outline",style:{textDecoration:"none"},children:"Show my playlist"})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)(g.b,{to:"/create-playlist",className:"btn-filled",style:{textDecoration:"none"},children:"Create a playlist"})}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)(g.b,{to:"/find-soundbird",className:"btn-filled",style:{textDecoration:"none"},children:"Find your soundbirds"})})]})]}),Object(c.jsxs)("div",{style:{diplay:"flex",alignItems:"center",paddingTop:"90px",justifyContent:"center"},children:[e.imageUrl?Object(c.jsx)("div",{className:"image-container",children:Object(c.jsx)("img",{className:"image",src:e.imageUrl,alt:"profile image"})}):Object(c.jsx)("object",{className:"image-container",data:"/images/Avatar.jpg",type:"image/png",children:Object(c.jsx)("img",{className:"image",src:e.imageUrl,alt:"profile image"})}),Object(c.jsx)(g.b,{className:"btn-outline-bottom",to:"/edit-profile",style:{textDecoration:"none"},children:" Edit profile"})]})]}):Object(c.jsx)(p.a,{to:"/"})}}]),n}(s.Component),k=n(15);var M=function(e){var t=Object(s.useState)(null),n=Object(k.a)(t,2),a=n[0],l=n[1],i=function(e){l(e.target.value)};return Object(c.jsx)("form",{onSubmit:function(t){return e.onMusicSearch(t,a)},children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",paddingRight:"100px",borderBottom:"solid 1px grey",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap"},children:[Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--outlined mdc-text-field--no-label",children:[Object(c.jsxs)("span",{class:"mdc-notched-outline",children:[Object(c.jsx)("span",{class:"mdc-notched-outline__leading"}),Object(c.jsx)("span",{class:"mdc-notched-outline__trailing"})]}),Object(c.jsx)("input",{style:{width:"350px"},class:"mdc-text-field__input",type:"text",name:"name","aria-label":"Label",placeholder:"Find your favourite artist"})]}),Object(c.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"artist"}),Object(c.jsx)("label",{children:" Artists"}),Object(c.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"track"}),Object(c.jsx)("label",{children:" Tracks"}),Object(c.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"all"}),Object(c.jsx)("label",{children:" All"}),Object(c.jsx)("button",{type:"submit",className:"btn-filled ",children:"Search"})]})})},_=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){console.log(this.props.myTracks);var e=this.props,t=e.myTracks,n=e.onSelectTrack;return Object(c.jsx)("div",{children:t&&t.map((function(e){return console.log(e),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center"},children:[Object(c.jsxs)("div",{style:{width:"200px"},children:[Object(c.jsx)("h4",{children:e.name}),Object(c.jsx)("p",{children:e.artists[0].name})]}),Object(c.jsxs)("figure",{children:[Object(c.jsx)("figcaption",{}),Object(c.jsxs)("audio",{controls:!0,src:e.preview_url,children:["Your browser does not support the",Object(c.jsx)("code",{children:"audio"})," element."]})]}),e.album.images.length?Object(c.jsx)("img",{src:e.album.images[0].url,style:{width:"100px"}},e.id):null,Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"btn-filled",onClick:function(){n(e)},children:"+ Add to my playlist"})})]},e.id)})}))})}}]),n}(s.Component),U=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onNullifyTracks()}},{key:"render",value:function(){var e=this.props,t=e.loggedInUser,n=e.myArtists,s=e.onMusicSearch,a=e.myTracks,l=e.onSelectTrack;return t?Object(c.jsxs)("div",{children:[Object(c.jsx)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:" To the Dashboard"}),Object(c.jsxs)("h2",{children:["Find your favourite music, ",t.name,"!"]}),Object(c.jsx)(M,{onMusicSearch:s,loggedInUser:t,myArtists:n}),Object(c.jsx)(_,{loggedInUser:t,onSelectTrack:l,myTracks:a})]}):Object(c.jsx)(p.a,{to:"/"})}}]),n}(s.Component),I=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={myPlaylist:[]},e.handleShowPlaylist=function(){x.a.post("".concat(u,"/show-playlist"),{},{withCredentials:!0}).then((function(t){console.log(t),e.setState({myPlaylist:t.data})})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e.handleDeleteSong=function(t){x.a.post("".concat(u,"/delete-song"),{songId:t},{withCredentials:!0}).then((function(t){console.log("song deleted"),console.log(t.data),e.setState({myPlaylist:t.data})})).catch((function(e){console.log("could not delete song",e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.handleShowPlaylist()}},{key:"render",value:function(){var e=this,t=this.state.myPlaylist;return console.log(t),Object(c.jsxs)("div",{children:[Object(c.jsx)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:"To the Dashboard"}),Object(c.jsx)("h2",{children:"My Playlist"}),Object(c.jsx)("hr",{}),t&&t.map((function(t){return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center"},children:[Object(c.jsxs)("div",{style:{width:"200px"},children:[Object(c.jsx)("h3",{children:t.name}),Object(c.jsx)("p",{children:t.artist})]},t.id),Object(c.jsx)("div",{children:Object(c.jsxs)("figure",{children:[Object(c.jsx)("figcaption",{}),Object(c.jsxs)("audio",{controls:!0,src:t.sample,children:["Your browser does not support the",Object(c.jsx)("code",{children:"audio"})," element."]})]})}),Object(c.jsx)("div",{children:t.imageUrl.length?Object(c.jsx)("img",{src:t.imageUrl,style:{width:"100px"}}):null}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){e.handleDeleteSong(t._id)},className:"btn-outline",children:"Delete Track"})})]})}))]})}}]),n}(s.Component),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={myMatches:[],selectedMatch:null},e.handleShowMatches=function(){x.a.post("".concat(u,"/my-matches"),{},{withCredentials:!0}).then((function(t){e.setState({myMatches:t.data})})).catch((function(e){console.log("couldn't fetch the matches",e)}))},e.handleSelectMatch=function(t){e.setState({selectedMatch:t})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.handleShowMatches()}},{key:"render",value:function(){var e=this.state.myMatches;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:[" ","To the Dashboard"]}),Object(c.jsx)("h2",{children:"Here are people with matching music taste"}),Object(c.jsx)("hr",{}),e&&e.map((function(e){return Object(c.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(c.jsxs)("p",{children:[Object(c.jsx)("div",{style:{diplay:"flex",alignItems:"center",paddingTop:"90px",justifyContent:"center"},children:e.imageUrl?Object(c.jsx)("div",{className:"image-container",children:Object(c.jsx)("img",{className:"image",src:e.imageUrl,alt:"profile image"})}):Object(c.jsx)("object",{className:"image-container",data:"/images/Avatar.jpg",type:"image/png",children:Object(c.jsx)("img",{className:"image",src:e.imageUrl,alt:"profile image"})})}),Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("div",{style:{fontStyle:"italic",paddingBottom:"10px"},children:e.aboutMe?e.aboutMe:null}),Object(c.jsxs)(g.b,{to:{pathname:"/soundbird-playlist/",state:{selectedMatch:e}},className:"btn-outline",style:{textDecoration:"none"},children:["\u2669 See ",e.name,"'s playlist"]}),Object(c.jsx)(g.b,{to:{pathname:"/messenger",state:{selectedMatch:e}},className:"btn-filled",style:{textDecoration:"none"},children:" Say Hello "})]})},e.id)}))]})}}]),n}(s.Component);var C,P=function(e){return Object(c.jsxs)("form",{onSubmit:e.onEditProfile,children:[Object(c.jsxs)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:[" ","To the Dashboard"]}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(c.jsx)("span",{class:"mdc-text-field__ripple"}),Object(c.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"name",type:"text",placeholder:e.loggedInUser.name,"aria-label":"Label"}),Object(c.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(c.jsx)("p",{style:{fontStyle:"italic",fontSize:"12pt"},children:"What music sparks joy for you?"}),Object(c.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--textarea mdc-text-field--no-label",style:{width:"480px"},children:[Object(c.jsx)("span",{className:"mdc-text-field__ripple"}),Object(c.jsx)("span",{className:"mdc-text-field__resizer",children:Object(c.jsx)("textarea",{name:"aboutMe",type:"text",class:"mdc-text-field__input",rows:"8",cols:"40","aria-label":"Label",placeholder:e.loggedInUser.aboutMe})}),Object(c.jsx)("span",{className:"mdc-line-ripple"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{style:{fontStyle:"italic",fontSize:"12pt"},children:"Choose your profile image"}),Object(c.jsx)("input",{type:"file",name:"image"})]}),Object(c.jsx)("div",{className:"mini-container",children:Object(c.jsx)("button",{type:"submit",className:"btn-filled",children:"Edit Profile"})})]})},T=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={myMatch:null,matchPlaylist:[],addButton:"add to my playlist",addedButton:"added"},e.handleMatchPlaylist=function(t){x.a.post("".concat(u,"/show-match-playlist"),{match:t},{withCredentials:!0}).then((function(t){e.setState({matchPlaylist:t.data})})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e.handleAddToMyPlaylist=function(e){console.log(e),x.a.post("".concat(u,"/add-matchsong-to-myplaylist"),{songId:e},{withCredentials:!0}).then((function(){console.log("song added to my playlist")})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.state.selectedMatch;this.handleMatchPlaylist(e),this.setState({myMatch:e})}},{key:"render",value:function(){var e=this;if(!this.state.myMatch)return null;if(!this.state.matchPlaylist)return null;var t=this.state,n=t.myMatch,s=t.matchPlaylist;return console.log(this.state.myMatch.name),Object(c.jsxs)("div",{children:[Object(c.jsx)(g.b,{className:"btn-outline-bottom",to:"/find-soundbird",style:{textDecoration:"none"},children:"all soundbirds"}),Object(c.jsxs)("h2",{children:[n.name,"' Playlist"]}),Object(c.jsxs)("p",{children:[" About me: ",n.aboutMe]}),Object(c.jsx)("hr",{}),s&&s.map((function(t){return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center"},children:[Object(c.jsxs)("div",{style:{width:"200px"},children:[Object(c.jsx)("h3",{children:t.name}),Object(c.jsx)("p",{children:t.artist})]},t.id),Object(c.jsx)("div",{children:Object(c.jsxs)("figure",{children:[Object(c.jsx)("figcaption",{}),Object(c.jsxs)("audio",{controls:!0,src:t.sample,children:["Your browser does not support the",Object(c.jsx)("code",{children:"audio"})," element."]})]})}),Object(c.jsx)("div",{children:t.imageUrl.length?Object(c.jsx)("img",{src:t.imageUrl,style:{width:"100px"}}):null}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){e.handleAddToMyPlaylist(t._id)},className:"btn-outline",children:e.state.addButton})})]})}))]})}}]),n}(s.Component),A=n(38),B=n.n(A),L=n(64),E=n(39),F="http://localhost:5000/";var W=function(e){var t=Object(s.useState)(""),n=Object(k.a)(t,2),a=n[0],l=n[1],i=Object(s.useState)(""),o=Object(k.a)(i,2),r=o[0],d=o[1],j=Object(s.useState)(""),b=Object(k.a)(j,2),h=b[0],u=b[1],m=Object(s.useState)(""),x=Object(k.a)(m,2),p=x[0],O=x[1],g=Object(s.useState)([]),y=Object(k.a)(g,2),v=y[0],S=y[1];Object(s.useEffect)((function(){C=f()(F)}),[F]),Object(s.useEffect)((function(){var t=e.location.state.selectedMatch;d(e.loggedInUser),u(t),l(e.loggedInUser._id.concat(t._id)),w()}),[]),Object(s.useEffect)((function(){C.on("receive_message",(function(e){S([].concat(Object(E.a)(v),[e]))}))}));var w=function(){C.emit("join_room",a)},N=function(){var e=Object(L.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={room:a,content:{sender:r._id,receiver:h._id,message:p}},e.next=3,C.emit("send_message",t);case 3:S([].concat(Object(E.a)(v),[t.content])),O("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("div",{className:"chatContainer",children:[Object(c.jsx)("div",{className:"messages",children:v.map((function(e,t){return Object(c.jsx)("div",{className:"messageContainer",id:e.sender==r.name?"You":"Other",children:Object(c.jsxs)("div",{className:"messageIndividual",children:[e.sender,": ",e.message]})})}))}),Object(c.jsx)("div",{className:"mdc-text-field mdc-text-field--filled mdc-text-field--textarea mdc-text-field--no-label",style:{width:"480px",height:"480",desplay:"flex",flexDirection:"column"},children:Object(c.jsx)("input",{className:"mdc-text-field__input",type:"text",placeholder:"Message...",onChange:function(e){O(e.target.value)}})}),Object(c.jsx)("button",{onClick:N,className:"btn-outline",children:"Send"})]})})};var Y=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,errorMessage:null,myArtists:[],myTracks:[],myPlaylist:[],myMessages:[]},e.handleSignUp=function(t){t.preventDefault();var n=t.target,c=n.name,s=n.email,a=n.password;console.log(t.target),x.a.post("".concat(u,"/signup"),{name:c.value,email:s.value,password:a.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(t){e.setState({errorMessage:t.response.data})}))},e.handleSignIn=function(t){t.preventDefault();var n=t.target,c=n.email,s=n.password;x.a.post("".concat(u,"/signin"),{email:c.value,password:s.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))},e.handleLogOut=function(t){t.preventDefault(),x.a.post("".concat(u,"/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))})).catch((function(e){return console.log(e)}))},e.handleNullifyTracks=function(){e.setState({myTracks:null})},e.handleMusicSearch=function(t,n){t.preventDefault();var c=t.target.name.value;console.log(n),console.log(c),x.a.post("".concat(u,"/music-search"),{name:c,context:n}).then((function(t){t.data.body.tracks.items;console.log(t.data.body.tracks.items),e.setState({myTracks:t.data.body.tracks.items})})).catch((function(e){console.log(e)}))},e.handleSelectTrack=function(e){console.log("track selected ".concat(e.id)),x.a.post("".concat(u,"/add-track"),{track:e},{withCredentials:!0}).then((function(e){console.log(e)}))},e.handleEditProfile=function(t){t.preventDefault();var n=t.target,c=n.name,s=n.aboutMe,a=n.image.files[0],l=new FormData;l.append("imageUrl",a),x.a.post("".concat(u,"/upload"),l).then((function(t){x.a.post("".concat(u,"/edit-profile"),{name:c.value,aboutMe:s.value,imageUrl:t.data.image},{withCredentials:!0}).then((function(t){console.log(t),e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(e){console.log("could not update a user")}))}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||x.a.get("".concat(u,"/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(t){e.setState({errorMessage:t.response.data})}))}},{key:"render",value:function(){var e,t=this,n=this.state,s=n.loggedInUser;n.myArtists;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"container-body",children:[Object(c.jsx)("div",{children:Object(c.jsx)(y,{loggedInUser:s,onLogout:this.handleLogOut})}),Object(c.jsx)("div",(e={className:"mdc-layout-grid"},Object(o.a)(e,"className","container"),Object(o.a)(e,"children",Object(c.jsxs)(p.d,{children:[Object(c.jsx)(p.b,{exact:!0,path:"/",render:function(e){return Object(c.jsx)(v,Object(r.a)({loggedInUser:s},e))}}),Object(c.jsx)(p.b,{path:"/signup",render:function(e){return Object(c.jsx)(S,Object(r.a)({onSignUp:t.handleSignUp},e))}}),Object(c.jsx)(p.b,{path:"/signin",render:function(e){return Object(c.jsx)(w,Object(r.a)({onSignIn:t.handleSignIn},e))}}),Object(c.jsx)(p.b,{path:"/dashboard",render:function(e){return Object(c.jsx)(N,Object(r.a)({loggedInUser:s,onShowPlaylist:t.handleShowPlaylist},e))}}),Object(c.jsx)(p.b,{exact:!0,path:"/create-playlist",render:function(e){return Object(c.jsx)(U,Object(r.a)({loggedInUser:s,onMusicSearch:t.handleMusicSearch,myArtists:t.state.myArtists,myTracks:t.state.myTracks,onSelectTrack:t.handleSelectTrack,onNullifyTracks:t.handleNullifyTracks},e))}}),Object(c.jsx)(p.b,{path:"/myplaylist",render:function(e){return Object(c.jsx)(I,Object(r.a)({loggedInUser:s,onShowPlaylist:t.handleShowPlaylist,myPlaylist:t.state.myPlaylist},e))}}),Object(c.jsx)(p.b,{path:"/find-soundbird",render:function(e){return Object(c.jsx)(D,Object(r.a)({loggedInUser:s},e))}}),Object(c.jsx)(p.b,{path:"/edit-profile",render:function(e){return Object(c.jsx)(P,Object(r.a)({loggedInUser:s,onEditProfile:t.handleEditProfile},e))}}),Object(c.jsx)(p.b,{path:"/soundbird-playlist",render:function(e){return Object(c.jsx)(T,Object(r.a)({loggedInUser:s},e))}}),Object(c.jsx)(p.b,{path:"/messenger",render:function(e){return Object(c.jsx)(W,Object(r.a)({loggedInUser:s},e))}})]})),e))]}),Object(c.jsx)("footer",{class:"footer",children:" \u2669 \u266a \u266b \u266c"})]})}}]),n}(s.Component),z=Object(p.g)(Y);i.a.render(Object(c.jsx)(g.a,{children:Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(z,{})})}),document.getElementById("root"))},48:function(e,t,n){},70:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.8977d214.chunk.js.map