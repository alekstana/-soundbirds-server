(this["webpackJsonpsoundbirds-client"]=this["webpackJsonpsoundbirds-client"]||[]).push([[0],{112:function(e,t){},123:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n.n(c),l=n(62),i=n.n(l),r=(n(70),n(20)),o=n(14),d=n(6),j=n(7),b=n(9),h=n(8),u="http://localhost:5000/api",m=n(5),x=n.n(m),p=n(3),O=(n(48),n(35)),f=n.n(O),g=n(2);var y=function(e){return Object(s.jsx)("div",{className:"nav",children:Object(s.jsxs)("div",{className:"nav-container",children:[Object(s.jsx)(g.b,{to:"/",children:Object(s.jsx)("img",{style:{height:"45px"},src:"/images/Logo.svg"})}),Object(s.jsx)("div",{className:"nav-btn-container",children:e.loggedInUser?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.b,{to:"/mailbox",children:Object(s.jsx)("button",{className:"btn-outline",children:" \u2709 Mailbox"})}),Object(s.jsx)("button",{onClick:e.onLogout,className:"btn-outline",children:"Logout"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.b,{to:"/signin",children:Object(s.jsx)("button",{className:"btn-outline",children:"Sign In"})}),Object(s.jsx)(g.b,{to:"/signup",children:Object(s.jsx)("button",{className:"btn-outline",children:"Sign Up"})})]})})]})})};n(124);var v=function(e){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("h1",{children:["Hello SoundBirds,",Object(s.jsx)("br",{})," let\u2019s stick together!"]}),Object(s.jsx)("p",{children:"Soundbirds is a digital platform that connects people around the world according to their taste of music."}),Object(s.jsx)("p",{children:"Why? Because meeting someone with the same taste of music is seriously the best thing ever."}),e.loggedInUser?Object(s.jsx)(g.b,{className:"btn-filled",to:"/dashboard",style:{textDecoration:"none"},children:" To the Dashboard"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(g.b,{to:"/signup",children:Object(s.jsx)("button",{className:"btn-filled",children:"Let's get Started"})})})]})};var w=function(e){return Object(s.jsxs)("form",{onSubmit:e.onSignUp,children:[Object(s.jsx)("h2",{children:"Sign Up!"}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"name",type:"text",placeholder:"Name","aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"email",type:"text",placeholder:"Email address","aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"password",type:"password",placeholder:"Password","aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)("button",{type:"submit",className:"btn-filled",children:"Submit"})})]})};var S=function(e){return e.loggedInUser,Object(s.jsxs)("form",{onSubmit:e.onSignIn,children:[Object(s.jsx)("h2",{children:"Welcome back. Sign in! "}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"email",type:"text",placeholder:"Email address","aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"password",type:"password",placeholder:"Password","aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)("button",{type:"submit",className:"btn-filled",children:"Submit"})})]})},N=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props.loggedInUser;return e?Object(s.jsxs)("div",{children:[Object(s.jsx)(g.b,{className:"btn-outline-bottom",to:"/edit-profile",style:{textDecoration:"none"},children:" Edit profile"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h2",{children:["Welcome to your dashboard, ",e.name,"!"]}),Object(s.jsx)("p",{children:"More songs - more possibility to find a perfect match."}),Object(s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"row"},children:[Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)(g.b,{to:"/myplaylist",className:"btn-outline",style:{textDecoration:"none"},children:"Show my playlist"})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)(g.b,{to:"/create-playlist",className:"btn-filled",style:{textDecoration:"none"},children:"Create a playlist"})}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)(g.b,{to:"/find-soundbird",className:"btn-filled",style:{textDecoration:"none"},children:"Find your soundbirds"})})]})]}),Object(s.jsx)("div",{style:{diplay:"flex",alignItems:"center",paddingTop:"30px",justifyContent:"center"},children:e.imageUrl?Object(s.jsx)("div",{className:"image-container2",children:Object(s.jsx)("img",{className:"image2",src:e.imageUrl,alt:"profile image"})}):Object(s.jsx)("object",{className:"image-container2",data:"/images/Avatar.jpg",type:"image/png",children:Object(s.jsx)("img",{className:"image",src:e.imageUrl,alt:"profile image"})})})]}):Object(s.jsx)(p.a,{to:"/"})}}]),n}(c.Component),k=n(15);var U=function(e){var t=Object(c.useState)(null),n=Object(k.a)(t,2),a=n[0],l=n[1],i=function(e){l(e.target.value)};return Object(s.jsx)("form",{onSubmit:function(t){return e.onMusicSearch(t,a)},children:Object(s.jsxs)("div",{style:{display:"flex",paddingBottom:"40px",borderBottom:"solid 1px grey",flexWrap:"wrap"},children:[Object(s.jsx)("div",{style:{marginRight:"20px"},children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--outlined mdc-text-field--no-label",children:[Object(s.jsxs)("span",{class:"mdc-notched-outline",children:[Object(s.jsx)("span",{class:"mdc-notched-outline__leading"}),Object(s.jsx)("span",{class:"mdc-notched-outline__trailing"})]}),Object(s.jsx)("input",{style:{width:"350px"},class:"mdc-text-field__input",type:"text",name:"name","aria-label":"Label",placeholder:"Find your favourite artist"})]})}),Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"20px 20px 20px 0",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"baseline"},children:[Object(s.jsxs)("div",{style:{padding:"0 10px 0 0"},children:[Object(s.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"artist"}),Object(s.jsx)("label",{children:" Artists"})]}),Object(s.jsxs)("div",{style:{padding:"0 10px"},children:[Object(s.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"track"}),Object(s.jsx)("label",{children:" Tracks"})]}),Object(s.jsxs)("div",{style:{margin:"0 10px"},children:[Object(s.jsx)("input",{onChange:i,type:"checkbox",name:"context",value:"all"}),Object(s.jsx)("label",{children:" All"})]})]}),Object(s.jsx)("div",{style:{margin:"10px 0 "},children:Object(s.jsx)("button",{type:"submit",className:"btn-filled ",children:"Search"})})]})})},M=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){console.log(this.props.myTracks);var e=this.props,t=e.myTracks,n=e.onSelectTrack;return Object(s.jsx)("div",{children:t&&t.map((function(e){return console.log(e),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(s.jsxs)("div",{style:{width:"200px"},children:[Object(s.jsx)("h4",{children:e.name}),Object(s.jsx)("p",{children:e.artists[0].name})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("figure",{children:[Object(s.jsx)("figcaption",{}),Object(s.jsxs)("audio",{controls:!0,src:e.preview_url,children:["Your browser does not support the",Object(s.jsx)("code",{children:"audio"})," element."]})]})}),e.album.images.length?Object(s.jsx)("img",{src:e.album.images[0].url,style:{width:"100px"}},e.id):null,Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"btn-filled",onClick:function(){n(e)},children:"+ Add to my playlist"})})]},e.id)})}))})}}]),n}(c.Component),_=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onNullifyTracks()}},{key:"render",value:function(){var e=this.props,t=e.loggedInUser,n=e.myArtists,c=e.onMusicSearch,a=e.myTracks,l=e.onSelectTrack;return t?Object(s.jsxs)("div",{children:[Object(s.jsx)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:" To the Dashboard"}),Object(s.jsxs)("h2",{children:["Find your favourite music, ",t.name,"!"]}),Object(s.jsx)(U,{onMusicSearch:c,loggedInUser:t,myArtists:n}),Object(s.jsx)(M,{loggedInUser:t,onSelectTrack:l,myTracks:a})]}):Object(s.jsx)(p.a,{to:"/"})}}]),n}(c.Component),I=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={myPlaylist:[],myProfile:null},e.handleShowPlaylist=function(){x.a.post("".concat(u,"/show-playlist"),{},{withCredentials:!0}).then((function(t){console.log(t),e.setState({myPlaylist:t.data})})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e.handleDeleteSong=function(t){x.a.post("".concat(u,"/delete-song"),{songId:t},{withCredentials:!0}).then((function(t){console.log("song deleted"),console.log(t.data),e.setState({myPlaylist:t.data})})).catch((function(e){console.log("could not delete song",e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.handleShowPlaylist(),this.setState({myProfile:this.props.loggedInUser})}},{key:"render",value:function(){var e=this,t=this.state.myPlaylist;return console.log(this.props.loggedInUser),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none",marginBottom:"50px"},children:"To the Dashboard"})}),Object(s.jsx)("h2",{children:"My Playlist"}),Object(s.jsx)("hr",{}),t&&t.map((function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(s.jsxs)("div",{style:{width:"200px"},children:[Object(s.jsx)("h3",{children:t.name}),Object(s.jsx)("p",{children:t.artist})]},t.id),Object(s.jsx)("div",{children:Object(s.jsxs)("figure",{children:[Object(s.jsx)("figcaption",{}),Object(s.jsxs)("audio",{controls:!0,src:t.sample,children:["Your browser does not support the",Object(s.jsx)("code",{children:"audio"})," element."]})]})}),Object(s.jsx)("div",{children:t.imageUrl.length?Object(s.jsx)("img",{src:t.imageUrl,style:{width:"100px"}}):null}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){e.handleDeleteSong(t._id)},className:"btn-outline",children:"Delete Track"})})]})}))]})}}]),n}(c.Component),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={myMatches:[],selectedMatch:null},e.handleShowMatches=function(){x.a.post("".concat(u,"/my-matches"),{},{withCredentials:!0}).then((function(t){e.setState({myMatches:t.data})})).catch((function(e){console.log("couldn't fetch the matches",e)}))},e.handleSelectMatch=function(t){e.setState({selectedMatch:t})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.handleShowMatches()}},{key:"render",value:function(){var e=this.state.myMatches;return Object(s.jsxs)("div",{children:[Object(s.jsxs)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:[" ","To the Dashboard"]}),Object(s.jsx)("h2",{children:"Here are people with matching music taste"}),Object(s.jsx)("hr",{}),e&&e.map((function(e){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",border:"solid 1px #6200ee",padding:"30px",margin:"15px",borderColor:"linear-gradient(to right,white, #6200ee)"},children:[Object(s.jsx)("div",{style:{paddingRight:"20px"},children:e.imageUrl?Object(s.jsx)("div",{className:"image-container2",children:Object(s.jsx)("img",{className:"image2",src:e.imageUrl,alt:"profile image"})}):Object(s.jsx)("object",{className:"image-container2",data:"/images/Avatar.jpg",type:"image/png",children:Object(s.jsx)("img",{className:"image2",src:e.imageUrl,alt:"profile image"})})}),Object(s.jsx)("div",{style:{display:"flex",flexWarp:"wrap",alignContent:"center"},children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:[e.name," \u2669"]}),Object(s.jsx)("div",{style:{fontStyle:"italic",paddingBottom:"10px"},children:e.aboutMe?e.aboutMe:null}),Object(s.jsxs)("div",{style:{display:"flex",flexWarp:"wrap",padding:"10px 0px"},children:[Object(s.jsxs)(g.b,{to:{pathname:"/soundbird-playlist/",state:{selectedMatch:e}},className:"btn-outline",style:{textDecoration:"none"},children:["See ",e.name,"'s playlist"]}),Object(s.jsxs)(g.b,{to:{pathname:"/messenger",state:{selectedMatch:e}},className:"btn-filled",style:{textDecoration:"none"},children:[" ","Say Hello"," "]})]})]})})]},e.id)}))]})}}]),n}(c.Component);var C,P=function(e){return Object(s.jsxs)("form",{onSubmit:e.onEditProfile,children:[Object(s.jsxs)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none"},children:[" ","To the Dashboard"]}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--no-label",children:[Object(s.jsx)("span",{class:"mdc-text-field__ripple"}),Object(s.jsx)("input",{style:{width:"450px"},class:"mdc-text-field__input",name:"name",type:"text",placeholder:e.loggedInUser.name,"aria-label":"Label"}),Object(s.jsx)("span",{class:"mdc-line-ripple"})]})}),Object(s.jsx)("p",{style:{fontStyle:"italic",fontSize:"12pt"},children:"What music sparks joy for you?"}),Object(s.jsxs)("label",{class:"mdc-text-field mdc-text-field--filled mdc-text-field--textarea mdc-text-field--no-label",style:{width:"480px"},children:[Object(s.jsx)("span",{className:"mdc-text-field__ripple"}),Object(s.jsx)("span",{className:"mdc-text-field__resizer",children:Object(s.jsx)("textarea",{name:"aboutMe",type:"text",class:"mdc-text-field__input",rows:"8",cols:"40","aria-label":"Label",placeholder:e.loggedInUser.aboutMe})}),Object(s.jsx)("span",{className:"mdc-line-ripple"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{style:{fontStyle:"italic",fontSize:"12pt"},children:"Choose your profile image"}),Object(s.jsx)("input",{type:"file",name:"image"})]}),Object(s.jsx)("div",{className:"mini-container",children:Object(s.jsx)("button",{type:"submit",className:"btn-filled",children:"Edit Profile"})})]})},T=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={myMatch:null,matchPlaylist:[],addButton:"add to my playlist",addedButton:"added"},e.handleMatchPlaylist=function(t){x.a.post("".concat(u,"/show-match-playlist"),{match:t},{withCredentials:!0}).then((function(t){e.setState({matchPlaylist:t.data})})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e.handleAddToMyPlaylist=function(e){console.log(e),x.a.post("".concat(u,"/add-matchsong-to-myplaylist"),{song:e},{withCredentials:!0}).then((function(){console.log("song added to my playlist")})).catch((function(e){console.log("couldn't fetch the playlist",e)}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.state.selectedMatch;this.handleMatchPlaylist(e),this.setState({myMatch:e})}},{key:"render",value:function(){var e=this;if(!this.state.myMatch)return null;if(!this.state.matchPlaylist)return null;var t=this.state,n=t.myMatch,c=t.matchPlaylist;return console.log(this.state.myMatch.name),Object(s.jsxs)("div",{children:[Object(s.jsx)(g.b,{className:"btn-outline-bottom",to:"/dashboard",style:{textDecoration:"none",marginRight:"20px"},children:"To the Dashboard"}),Object(s.jsx)(g.b,{className:"btn-outline-bottom",to:"/find-soundbird",style:{textDecoration:"none"},children:"all soundbirds"}),Object(s.jsxs)("div",{className:"profile-card-container",children:[Object(s.jsxs)("h2",{children:[n.name,"' Playlist"]}),Object(s.jsxs)("p",{style:{fontStyle:"italic",fontSize:"1,1rem"},children:[" ",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"About me:"})," ",n.aboutMe]}),n.imageUrl?Object(s.jsx)("div",{style:{height:"400px",overflow:"hidden",position:"relative"},children:Object(s.jsx)("img",{src:n.imageUrl,style:{width:"100%",position:"absolute",marginTop:"-600px"}})}):null]}),Object(s.jsx)("hr",{}),c&&c.map((function(t){return Object(s.jsxs)("div",{style:{display:"flex",flexDirection:"row",paddingBottom:"40px",borderBottom:"solid 1px grey",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[Object(s.jsxs)("div",{style:{width:"200px"},children:[Object(s.jsx)("h3",{children:t.name}),Object(s.jsx)("p",{children:t.artist})]},t.id),Object(s.jsx)("div",{children:Object(s.jsxs)("figure",{children:[Object(s.jsx)("figcaption",{}),Object(s.jsxs)("audio",{controls:!0,src:t.sample,children:["Your browser does not support the",Object(s.jsx)("code",{children:"audio"})," element."]})]})}),Object(s.jsx)("div",{children:t.imageUrl.length?Object(s.jsx)("img",{src:t.imageUrl,style:{width:"100px"}}):null}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:function(){e.handleAddToMyPlaylist(t)},className:"btn-outline",children:e.state.addButton})})]})}))]})}}]),n}(c.Component),A=n(38),B=n.n(A),L=n(64),W=n(39),E="http://localhost:5000/";var F=function(e){var t=Object(c.useState)(""),n=Object(k.a)(t,2),a=n[0],l=n[1],i=Object(c.useState)(""),r=Object(k.a)(i,2),o=r[0],d=r[1],j=Object(c.useState)(""),b=Object(k.a)(j,2),h=b[0],u=b[1],m=Object(c.useState)(""),x=Object(k.a)(m,2),p=x[0],O=x[1],g=Object(c.useState)([]),y=Object(k.a)(g,2),v=y[0],w=y[1];Object(c.useEffect)((function(){C=f()(E)}),[E]),Object(c.useEffect)((function(){var t=e.location.state.selectedMatch;d(e.loggedInUser),u(t),l(e.loggedInUser._id.concat(t._id)),S()}),[]),Object(c.useEffect)((function(){C.on("receive_message",(function(e){w([].concat(Object(W.a)(v),[e]))}))}));var S=function(){C.emit("join_room",a)},N=function(){var e=Object(L.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={room:a,content:{sender:o._id,receiver:h._id,message:p}},e.next=3,C.emit("send_message",t);case 3:w([].concat(Object(W.a)(v),[t.content])),O("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"chatContainer",children:[Object(s.jsx)("div",{className:"messages",children:v.map((function(e,t){return Object(s.jsx)("div",{className:"messageContainer",id:e.sender==o.name?"You":"Other",children:Object(s.jsxs)("div",{className:"messageIndividual",children:[e.sender,": ",e.message]})})}))}),Object(s.jsx)("div",{className:"mdc-text-field mdc-text-field--filled mdc-text-field--textarea mdc-text-field--no-label",style:{width:"480px",height:"480",desplay:"flex",flexDirection:"column"},children:Object(s.jsx)("input",{className:"mdc-text-field__input",type:"text",placeholder:"Message...",onChange:function(e){O(e.target.value)}})}),Object(s.jsx)("button",{onClick:N,className:"btn-outline",children:"Send"})]})})};var z=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={loggedInUser:null,errorMessage:null,myArtists:[],myTracks:[],myPlaylist:[],myMessages:[]},e.handleSignUp=function(t){t.preventDefault();var n=t.target,s=n.name,c=n.email,a=n.password;console.log(t.target),x.a.post("".concat(u,"/signup"),{name:s.value,email:c.value,password:a.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(t){e.setState({errorMessage:t.response.data})}))},e.handleSignIn=function(t){t.preventDefault();var n=t.target,s=n.email,c=n.password;x.a.post("".concat(u,"/signin"),{email:s.value,password:c.value},{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(t){e.setState({errorMessage:t.response.data.error})}))},e.handleLogOut=function(t){t.preventDefault(),x.a.post("".concat(u,"/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))})).catch((function(e){return console.log(e)}))},e.handleNullifyTracks=function(){e.setState({myTracks:null})},e.handleMusicSearch=function(t,n){t.preventDefault();var s=t.target.name.value;console.log(n),console.log(s),x.a.post("".concat(u,"/music-search"),{name:s,context:n}).then((function(t){t.data.body.tracks.items;console.log(t.data.body.tracks.items),e.setState({myTracks:t.data.body.tracks.items})})).catch((function(e){console.log(e)}))},e.handleSelectTrack=function(e){console.log("track selected ".concat(e.id)),x.a.post("".concat(u,"/add-track"),{track:e},{withCredentials:!0}).then((function(e){console.log(e)}))},e.handleEditProfile=function(t){t.preventDefault();var n=t.target,s=n.name,c=n.aboutMe,a=n.image.files[0],l=new FormData;l.append("imageUrl",a),x.a.post("".concat(u,"/upload"),l).then((function(t){x.a.post("".concat(u,"/edit-profile"),{name:s.value,aboutMe:c.value,imageUrl:t.data.image},{withCredentials:!0}).then((function(t){console.log(t),e.setState({loggedInUser:t.data},(function(){e.props.history.push("/dashboard")}))})).catch((function(e){console.log("could not update a user")}))}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||x.a.get("".concat(u,"/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(t){e.setState({errorMessage:t.response.data})}))}},{key:"render",value:function(){var e,t=this,n=this.state,c=n.loggedInUser;n.myArtists;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"container-body",children:[Object(s.jsx)("div",{children:Object(s.jsx)(y,{loggedInUser:c,onLogout:this.handleLogOut})}),Object(s.jsx)("div",(e={className:"mdc-layout-grid"},Object(r.a)(e,"className","container"),Object(r.a)(e,"children",Object(s.jsxs)(p.d,{children:[Object(s.jsx)(p.b,{exact:!0,path:"/",render:function(e){return Object(s.jsx)(v,Object(o.a)({loggedInUser:c},e))}}),Object(s.jsx)(p.b,{path:"/signup",render:function(e){return Object(s.jsx)(w,Object(o.a)({onSignUp:t.handleSignUp},e))}}),Object(s.jsx)(p.b,{path:"/signin",render:function(e){return Object(s.jsx)(S,Object(o.a)({onSignIn:t.handleSignIn},e))}}),Object(s.jsx)(p.b,{path:"/dashboard",render:function(e){return Object(s.jsx)(N,Object(o.a)({loggedInUser:c,onShowPlaylist:t.handleShowPlaylist},e))}}),Object(s.jsx)(p.b,{exact:!0,path:"/create-playlist",render:function(e){return Object(s.jsx)(_,Object(o.a)({loggedInUser:c,onMusicSearch:t.handleMusicSearch,myArtists:t.state.myArtists,myTracks:t.state.myTracks,onSelectTrack:t.handleSelectTrack,onNullifyTracks:t.handleNullifyTracks},e))}}),Object(s.jsx)(p.b,{path:"/myplaylist",render:function(e){return Object(s.jsx)(I,Object(o.a)({loggedInUser:c,onShowPlaylist:t.handleShowPlaylist,myPlaylist:t.state.myPlaylist},e))}}),Object(s.jsx)(p.b,{path:"/find-soundbird",render:function(e){return Object(s.jsx)(D,Object(o.a)({loggedInUser:c},e))}}),Object(s.jsx)(p.b,{path:"/edit-profile",render:function(e){return Object(s.jsx)(P,Object(o.a)({loggedInUser:c,onEditProfile:t.handleEditProfile},e))}}),Object(s.jsx)(p.b,{path:"/soundbird-playlist",render:function(e){return Object(s.jsx)(T,Object(o.a)({loggedInUser:c},e))}}),Object(s.jsx)(p.b,{path:"/messenger",render:function(e){return Object(s.jsx)(F,Object(o.a)({loggedInUser:c},e))}})]})),e))]}),Object(s.jsx)("footer",{class:"footer",children:" \u2669 \u266a \u266b \u266c"})]})}}]),n}(c.Component),Y=Object(p.g)(z);i.a.render(Object(s.jsx)(g.a,{children:Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(Y,{})})}),document.getElementById("root"))},48:function(e,t,n){},70:function(e,t,n){}},[[123,1,2]]]);
//# sourceMappingURL=main.cab971ef.chunk.js.map